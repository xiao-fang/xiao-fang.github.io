---
title: WordPress on Azure - S2 - Install Apache2 / PHP / WordPress / MySQL / PhpMyAdmin / Vsftpd on Azure Ubuntu VM
date: 4/23/2016 22:00
tags:
- WordPress
- Azure
- Ubuntu
- VM
---

<html>
<head>
    <style>
        body, td {
            font-family: Tahoma;
            font-size: 10pt;
        }
    </style>
</head>
<body>
<br/>

<p style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;"/>

<p style="margin: 0 0 1.1em; line-height: 1.6;"></p>
<p style="margin: 0 0 1.1em; color: rgba(44,63,81,0.3); line-height: 1.6;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; border-radius: 0; color: #fff; background: rgba(44,63,81,0.3); margin-right: 6px;">WordPress</code>
    <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; color: rgba(44,63,81,0.5); border-radius: 0; background: rgba(102,128,153,0.075);">Azure</code>
    <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; color: rgba(44,63,81,0.5); border-radius: 0; background: rgba(102,128,153,0.075);">WordPress</code>
    <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; color: rgba(44,63,81,0.5); border-radius: 0; background: rgba(102,128,153,0.075);">Ubuntu</code>
    <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; color: rgba(44,63,81,0.5); border-radius: 0; background: rgba(102,128,153,0.075);">PuTTY</code>
    <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; background-color: #f9f2f4; white-space: normal; padding: 2px 5px; color: rgba(44,63,81,0.5); border-radius: 0; background: rgba(102,128,153,0.075);">posts</code>
</p>
<p
        style="margin: 0 0 1.1em; line-height: 1.6;"></p>

<p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">1. Remote to Ubuntu VM with PuTTY</strong> <br/>
    Because the Ubuntu VM we just created on Azure is a server version without GUI, so here we can remote to Ubutu VM with PuTTY and execute commands with terminal command line window.</p>

<p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">2. Install Apache2</strong> <br/>
    We choose to host WordPress site on <strong style="font-weight: bold; line-height: 1.6;"><a href="https://help.ubuntu.com/lts/serverguide/httpd.html"
                                                                                                style="background: transparent; color: #1980e6; text-decoration: none;"
                                                                                                target="_blank">Apache2</a></strong>, login to Ubuntu, my VM host is <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">edworks-demo.cloudapp.net</code>
    (<code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">will use vm-host
        for short</code>)</p></div>
<div
        style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install apache2<br/></code></pre>

    <blockquote
            style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;">
        <p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">During installing packages, now or later, it may pause to comfirm to continue, generally we
            say <strong
                    style="font-weight: bold; line-height: 1.6;">Yes</strong>. <br/>
            <code style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">Do you want
                to continue? [Y/n]</code> <br/>
            Input <strong style="font-weight: bold; line-height: 1.6;">Y</strong></p>
    </blockquote>

    <!-- more -->

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Wait for downloading and installation completed, then we can check if available to access. <br/>
        Open a browser with URL <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">http://vm-host/</code>
        (Apache2 set 80 as default http port). Generally we cannot access the website because an <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">Endpoint</code>
        for http 80 is not set for VM on Azure yet. Then locate the Ubuntu VM, <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">Settings</code>
        -&gt; <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">Endpoints</code>
        -&gt; <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">Add
            endpoint</code> -&gt; add a new HTTP 80 endpoint as following.</p>

</div>
<div style="line-height: 1.6;">

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><img src="/uploads/wp-azure-s2-2-1-add-http-endpoint.png" type="image/png"
                                                         alt="Add HTTP 80 Endpoint" longdesc="./2-1-add-http-endpoint.png" style="border: 0; vertical-align: middle; max-width: 100%;" title=""/> <br/>
        Now we can access the website via browser.</p>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Any Apache2 changes, we can restart it to take effect.</p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> /etc/init.d/apache2 restart<br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">3. Install PHP</strong></p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install php5 //install PHP5<br/><span style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install libapache2-mod-php5 // config APACHE+PHP<br/><span
        style="line-height: 1.6; color: #f92672;">sudo</span> /etc/init.d/apache2 restart //restart apache  <br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">4. Install MySQL</strong></p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install mysql-server <br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Set a new password for the MySQL <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">root</code> user
    </p>

</div>
<div style="line-height: 1.6;">

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><img src="/uploads/wp-azure-s2-1461413966050.png" type="image/png"
                                                         alt="New Password for MySQL root" longdesc="./1461413966050.png" style="border: 0; vertical-align: middle; max-width: 100%;" title=""/> <br/>
        Repeat password for the MySQL <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">root</code>
        user</p>

</div>
<div style="line-height: 1.6;">

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><img src="/uploads/wp-azure-s2-1461413812152.png" type="image/png"
                                                         alt="Repeat Password for MySQL" longdesc="./1461413812152.png" style="border: 0; vertical-align: middle; max-width: 100%;" title=""/></p>

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">5. Link Apache / PHP with MySQL</strong></p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install libapache2-mod-auth-mysql<br/><span
        style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install php5-mysql<br/><span style="line-height: 1.6; color: #f92672;">sudo</span> /etc/init.d/apache2 restart<br/></code></pre>

    <blockquote
            style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;">
        <p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">Now <strong style="font-weight: bold; line-height: 1.6;">Apache + PHP + MySQL</strong> the
            dependent componets of <strong
                    style="font-weight: bold; line-height: 1.6;">WordPress </strong> are ready.</p>
    </blockquote>

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">6. Install PhpMyAdmin</strong></p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install phpmyadmin<br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Tap <strong style="font-weight: bold; line-height: 1.6;">Space</strong> key to select <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">apache2</code> then
        <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">OK</code> to
        recofigure web server.</p>

</div>
<div style="line-height: 1.6;">

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><img src="/uploads/wp-azure-s2-1461414500117.png" type="image/png"
                                                         alt="Install PhpMyAmdin" longdesc="./1461414500117.png" style="border: 0; vertical-align: middle; max-width: 100%;" title=""/> <br/>
        After PhpMyAdmin installed, we can open a browser to visit <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">http://vm-host/phpmyadmin/</code>
        for administraton of MySQL database.</p>

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">7. Install WordPress</strong></p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">wget</span> -c http://wordpress.org/latest.tar.gz  //download lastest wordpress package<br/><span
        style="line-height: 1.6; color: #f92672;">sudo</span> tar -zxvf latest.tar.gz    //unzip wordpress package<br/><span style="line-height: 1.6; color: #f92672;">sudo</span> cp -rf wordpress /var/www/     //copy to /var/www/ apache root<br/><span
        style="line-height: 1.6; color: #f92672;">sudo</span> chown -R www-data /var/www/wordpress       //grant permission for wordpress<br/></code></pre>

    <blockquote
            style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;">
        <p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">Generally, we can now access WordPress via <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">http://vm-host/wordpress/</code>,
            but sometime we cannot, it return back a <code
                    style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">404 Not
                Found</code> error, here some apache configurations should be updated.</p>
    </blockquote>

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">8. Update Apache2 Config to Host WordPress</strong> <br/>
        Here is the configuration hierarchy outlined for Apache2.</p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"># It is split into several files forming the configuration hierarchy outlined<br/># below, all located in the /etc/apache2/ directory:<br/>#<br/>#   /etc/apache2/<br/>#   |-- apache2.conf<br/>#   |   `--  ports.conf<br/>#   |-- mods-enabled<br/>#   |   |-- *.load<br/>#   |   `-- *.conf<br/>#   |-- conf-enabled<br/>#   |   `-- *.conf<br/>#   `-- sites-enabled<br/>#       `-- *.conf<br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Open <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/etc/apache2/apache2.conf</code>
        and edit with <strong
                style="font-weight: bold; line-height: 1.6;">VI</strong>, learn more about <strong style="font-weight: bold; line-height: 1.6;">VI</strong>, please refer to <a
                href="https://help.ubuntu.com/community/VimHowto" style="background: transparent; color: #1980e6; text-decoration: none;" target="_blank">https://help.ubuntu.com/community/VimHowto</a>.
    </p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> vi /etc/apache2/apache2.conf<br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Update <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">&lt;Directory
        /var/www/&gt;</code> attribute <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">AllowOverride</code>
        to <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">All</code>, and
        add <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">&lt;Directory
            /var/www/wordpress.&gt;</code> section.</p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f8f8f2;">&lt;<span style="line-height: 1.6; color: #f92672;">Directory</span> /<span style="line-height: 1.6; color: #f92672;">var</span>/<span
        style="line-height: 1.6; color: #f92672;">www</span>/&gt;</span><br/>    Options Indexes FollowSymLinks<br/>    AllowOverride all<br/>    Require all granted<br/><span
        style="line-height: 1.6; color: #f8f8f2;">&lt;/<span style="line-height: 1.6; color: #f92672;">Directory</span>&gt;</span><br/><br/><span style="line-height: 1.6; color: #f8f8f2;">&lt;<span
        style="line-height: 1.6; color: #f92672;">Directory</span> /<span style="line-height: 1.6; color: #f92672;">var</span>/<span style="line-height: 1.6; color: #f92672;">www</span>/<span
        style="line-height: 1.6; color: #f92672;">wordpress</span>/&gt;</span><br/>    Options Indexes FollowSymLinks<br/>    AllowOverride all<br/>    Require all granted<br/><span
        style="line-height: 1.6; color: #f8f8f2;">&lt;/<span style="line-height: 1.6; color: #f92672;">Directory</span>&gt;</span><br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Open <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/etc/apache2/sites-available/000-default.conf</code>
        and edit with <strong
                style="font-weight: bold; line-height: 1.6;">VI</strong>.</p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> vi /etc/apache2/sites-available/000-default.conf<br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Update or Set default port 80 <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">DocumentRoot</code>
        with <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/var/www/wordpress</code>
        (original <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/var/www/html</code>),
        set <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">WordPress</code>
        root as default entry.</p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f8f8f2;">&lt;<span style="line-height: 1.6; color: #f92672;">VirtualHost</span> *<span style="line-height: 1.6; color: #f92672;">:80</span>&gt;</span><br/>    # ...<br/>    ServerAdmin webmaster@localhost<br/>    DocumentRoot /var/www/wordpress<br/>    # ...<br/><span
        style="line-height: 1.6; color: #f8f8f2;">&lt;/<span style="line-height: 1.6; color: #f92672;">VirtualHost</span>&gt;</span><br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Then restart Apache to take efffect.</p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> /etc/init.d/apache2 restart<br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Now open a browser and visit <code
            style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">http://vm-host</code>,
        it works now. If wordpress not installed, will goto <a
                href="http://vm-host/wp-admin/setup-config.php" style="background: transparent; color: #1980e6; text-decoration: none;" target="_blank">http://vm-host/wp-admin/setup-config.php</a> for
        a first-time installation.</p>

    <p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">9. Install Vsftpd (Optional)</strong> <br/>
        It’s very helpful to <code
                style="font-family: 'Source Code Pro',monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">edit / view /
            update / download</code> files on linux server with FTP if we not very familar with linux text editor itself like VIM, .etc. <strong
                style="font-weight: bold; line-height: 1.6;"><a href="http://wiki.ubuntu.org.cn/Vsftpd" style="background: transparent; color: #1980e6; text-decoration: none;"
                                                                target="_blank">Vsftpd</a></strong> is a popular FTP server on Linux. </p>

</div>
<div style="line-height: 1.6;">

<pre style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code
        style="font-family: 'Source Code Pro',monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><span
        style="line-height: 1.6; color: #f92672;">sudo</span> apt-get install vsftpd<br/></code></pre>

    <p style="margin: 0 0 1.1em; line-height: 1.6;">Learn more about how to configration Vsftpd, please refer to <a href="http://wiki.ubuntu.org.cn/Vsftpd"
                                                                                                                    style="background: transparent; color: #1980e6; text-decoration: none;"
                                                                                                                    target="_blank">http://wiki.ubuntu.org.cn/Vsftpd</a>.</p>

</div>
<div style="line-height: 1.6;"></div>
<div style="line-height: 1.6;"></div>
</div>
<center style="display:none">
    %23%20S2%20-%20Install%20Apache2%20/%20PHP%20/%20WordPress%20/%20MySQL%20/%20PhpMyAdmin%20/%20Vsftpd%20on%20Azure%20Ubuntu%20VM%0A@%28WordPress%29%5BAzure%2C%20WordPress%2C%20Ubuntu%2C%20PuTTY%2C%20posts%5D%0A%0A%20**1.%20Remote%20to%20Ubuntu%20VM%20with%20PuTTY**%20%0ABecause%20the%20Ubuntu%20VM%20we%20just%20created%20on%20Azure%20is%20a%20server%20version%20without%20GUI%2C%20so%20here%20we%20can%20remote%20to%20Ubutu%20VM%20with%20PuTTY%20and%20execute%20commands%20with%20terminal%20command%20line%20window.%0A%0A%20**2.%20Install%20Apache2**%20%0A%20We%20choose%20to%20host%20WordPress%20site%20on%20**%5BApache2%5D%28https%3A//help.ubuntu.com/lts/serverguide/httpd.html%29**%2C%20%20login%20%20to%20Ubuntu%2C%20my%20VM%20host%20is%20%60edworks-demo.cloudapp.net%60%20%28%60will%20use%20vm-host%20for%20short%60%29%0A%60%60%60%20apache%0Asudo%20apt-get%20install%20apache2%0A%60%60%60%0A%3EDuring%20installing%20packages%2C%20now%20or%20later%2C%20it%20may%20pause%20to%20comfirm%20to%20continue%2C%20generally%20we%20say%20**Yes**.%0A%3E%60Do%20you%20want%20to%20continue%3F%20%5BY/n%5D%60%0A%3E%20Input%20**Y**%0A%0AWait%20for%20downloading%20and%20installation%20completed%2C%20then%20we%20can%20check%20if%20available%20to%20access.%0AOpen%20a%20browser%20with%20URL%20%20%60http%3A//vm-host/%60%20%28Apache2%20%20set%2080%20as%20default%20http%20port%29.%20Generally%20we%20cannot%20access%20the%20website%20because%20an%20%60Endpoint%60%20for%20http%2080%20is%20not%20set%20for%20VM%20on%20Azure%20yet.%20Then%20locate%20the%20Ubuntu%20VM%2C%20%60Settings%60%20-%3E%20%60Endpoints%60%20-%3E%20%60Add%20endpoint%60%20-%3E%20add%20a%20new%20HTTP%2080%20endpoint%20as%20following.%0A%21%5BAdd%20HTTP%2080%20Endpoint%5D%28./2-1-add-http-endpoint.png%29%0ANow%20we%20can%20access%20the%20website%20via%20browser.%0A%0AAny%20Apache2%20changes%2C%20we%20can%20restart%20it%20to%20take%20effect.%0A%60%60%60%20apache%0Asudo%20/etc/init.d/apache2%20restart%0A%60%60%60%0A%0A%20**3.%20Install%20PHP**%20%0A%60%60%60%20apache%0Asudo%20apt-get%20install%20php5%20//install%20PHP5%0Asudo%20apt-get%20install%20libapache2-mod-php5%20//%20config%20APACHE+PHP%0Asudo%20/etc/init.d/apache2%20restart%20//restart%20apache%20%20%0A%60%60%60%0A%0A%20**4.%20Install%20MySQL**%20%0A%60%60%60%20apache%0Asudo%20apt-get%20install%20mysql-server%20%0A%60%60%60%0ASet%20a%20new%20password%20for%20the%20MySQL%20%60root%60%20user%0A%21%5BNew%20Password%20for%20MySQL%20root%5D%28./1461413966050.png%29%0ARepeat%20password%20for%20the%20MySQL%20%60root%60%20user%0A%21%5BRepeat%20Password%20for%20MySQL%5D%28./1461413812152.png%29%0A%0A%20**5.%20Link%20Apache%20/%20PHP%20with%20MySQL**%20%0A%60%60%60%20apache%0Asudo%20apt-get%20install%20libapache2-mod-auth-mysql%0Asudo%20apt-get%20install%20php5-mysql%0Asudo%20/etc/init.d/apache2%20restart%0A%60%60%60%0A%3E%20Now%20**Apache%20+%20PHP%20+%20MySQL**%20the%20dependent%20componets%20of%20**WordPress%20**%20are%20ready.%0A%0A%20**6.%20Install%20PhpMyAdmin**%20%0A%60%60%60%20apache%0Asudo%20apt-get%20install%20phpmyadmin%0A%60%60%60%0ATap%20**Space**%20key%20to%20select%20%60apache2%60%20then%20%60OK%60%20to%20recofigure%20web%20server.%0A%21%5BInstall%20PhpMyAmdin%5D%28./1461414500117.png%29%0AAfter%20PhpMyAdmin%20installed%2C%20we%20can%20open%20a%20browser%20to%20visit%20%60http%3A//vm-host/phpmyadmin/%60%20for%20administraton%20of%20MySQL%20database.%0A%0A%20**7.%20Install%20WordPress**%20%0A%60%60%60%20apache%0Awget%20-c%20http%3A//wordpress.org/latest.tar.gz%09//download%20lastest%20wordpress%20package%0Asudo%20tar%20-zxvf%20latest.tar.gz%09//unzip%20wordpress%20package%0Asudo%20cp%20-rf%20wordpress%20/var/www/%09%09//copy%20to%20/var/www/%20apache%20root%0Asudo%20chown%20-R%20www-data%20/var/www/wordpress%09%09//grant%20permission%20for%20wordpress%0A%60%60%60%0A%3E%20Generally%2C%20we%20can%20now%20access%20WordPress%20via%20%60http%3A//vm-host/wordpress/%60%2C%20but%20sometime%20we%20cannot%2C%20it%20return%20back%20a%20%60404%20Not%20Found%60%20error%2C%20here%20some%20apache%20configurations%20should%20be%20updated.%0A%0A%20**8.%20Update%20Apache2%20Config%20to%20Host%20WordPress**%20%0AHere%20is%20the%20configuration%20hierarchy%20outlined%20for%20Apache2.%0A%60%60%60xml%0A%23%20It%20is%20split%20into%20several%20files%20forming%20the%20configuration%20hierarchy%20outlined%0A%23%20below%2C%20all%20located%20in%20the%20/etc/apache2/%20directory%3A%0A%23%0A%23%09/etc/apache2/%0A%23%09%7C--%20apache2.conf%0A%23%09%7C%09%60--%20%20ports.conf%0A%23%09%7C--%20mods-enabled%0A%23%09%7C%09%7C--%20*.load%0A%23%09%7C%09%60--%20*.conf%0A%23%09%7C--%20conf-enabled%0A%23%09%7C%09%60--%20*.conf%0A%23%20%09%60--%20sites-enabled%0A%23%09%20%09%60--%20*.conf%0A%60%60%60%0AOpen%20%60/etc/apache2/apache2.conf%60%20and%20edit%20with%20**VI**%2C%20learn%20more%20about%20**VI**%2C%20please%20refer%20to%20https%3A//help.ubuntu.com/community/VimHowto.%0A%60%60%60%20apache%0Asudo%20vi%20/etc/apache2/apache2.conf%0A%60%60%60%0AUpdate%20%60%3CDirectory%20/var/www/%3E%60%20attribute%20%60AllowOverride%60%20to%20%60All%60%2C%20and%20add%20%20%60%3CDirectory%20/var/www/wordpress.%3E%60%20section.%0A%60%60%60xml%0A%3CDirectory%20/var/www/%3E%0A%09Options%20Indexes%20FollowSymLinks%0A%09AllowOverride%20all%0A%09Require%20all%20granted%0A%3C/Directory%3E%0A%0A%3CDirectory%20/var/www/wordpress/%3E%0A%09Options%20Indexes%20FollowSymLinks%0A%09AllowOverride%20all%0A%09Require%20all%20granted%0A%3C/Directory%3E%0A%60%60%60%0A%0AOpen%20%60/etc/apache2/sites-available/000-default.conf%60%20and%20edit%20with%20**VI**.%0A%60%60%60%20apache%0Asudo%20vi%20/etc/apache2/sites-available/000-default.conf%0A%60%60%60%0AUpdate%20or%20Set%20default%20port%2080%20%20%60DocumentRoot%60%20%20with%20%60/var/www/wordpress%60%20%28original%20%60/var/www/html%60%29%2C%20set%20%60WordPress%60%20root%20as%20default%20entry.%0A%60%60%60xml%0A%3CVirtualHost%20*%3A80%3E%0A%09%23%20...%0A%09ServerAdmin%20webmaster@localhost%0A%09DocumentRoot%20/var/www/wordpress%0A%09%23%20...%0A%3C/VirtualHost%3E%0A%60%60%60%0AThen%20restart%20Apache%20to%20take%20efffect.%0A%60%60%60%20apache%0Asudo%20/etc/init.d/apache2%20restart%0A%60%60%60%0ANow%20open%20a%20browser%20and%20visit%20%60http%3A//vm-host%60%2C%20it%20works%20now.%20If%20wordpress%20not%20installed%2C%20will%20goto%20http%3A//vm-host/wp-admin/setup-config.php%20for%20a%20first-time%20installation.%0A%0A%20**9.%20Install%20Vsftpd%20%28Optional%29**%20%0A%20It%27s%20very%20helpful%20to%20%60edit%20/%20view%20/%20update%20/%20download%60%20files%20on%20linux%20server%20with%20FTP%20if%20we%20not%20very%20familar%20with%20linux%20text%20editor%20itself%20like%20VIM%2C%20.etc.%20**%5BVsftpd%5D%28http%3A//wiki.ubuntu.org.cn/Vsftpd%29**%20is%20a%20popular%20FTP%20server%20on%20Linux.%20%0A%60%60%60%20apache%0Asudo%20apt-get%20install%20vsftpd%0A%60%60%60%0ALearn%20more%20about%20how%20to%20configration%20Vsftpd%2C%20please%20refer%20to%20http%3A//wiki.ubuntu.org.cn/Vsftpd.%0A
</center>
<br/></span>
</div>
</body>
</html> 